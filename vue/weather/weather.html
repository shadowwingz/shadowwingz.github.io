<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>天气查询</title>
        <link rel="stylesheet" href="weather.css">
        <link rel="stylesheet" href="reset.css"/>
    </head>
    <body>
        <div class="wrap" id="app">
            <div class="search_form">
                <div class="logo"><img src="images/logo.png" alt="logo"/></div>
                <div class="form_group">
                    <input type="text"
                           class="input_txt"
                           v-model="city"
                           @keyup.enter="queryWeather"
                           placeholder="请输入查询的天气"/>
                    <button class="input_sub">
                        搜 索
                    </button>
                </div>
                <div class="hotkey">
                    <a href="javascript:">北京</a>
                    <a href="javascript:">上海</a>
                    <a href="javascript:">广州</a>
                    <a href="javascript:">深圳</a>
                </div>
            </div>
            <ul class="weather_list">
                <li>
                    <div class="info_type"><span class="iconfont">小雨</span></div>
                    <div class="info_temp">
                        <b>低温 2℃</b>
                        ~
                        <b>高温 19℃</b>
                    </div>
                    <div class="info_date"><span>24日星期天</span></div>
                </li>
            </ul>
        </div>
        <!-- 开发环境版本，包含了有帮助的命令行警告 -->
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <!-- 官网提供的 axios 在线地址 -->
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <!-- 自己的js -->
        <script>
            new Vue({
                el: "#app",
                data: {
                    city: "武汉",
                    forecastList: [],
                    hotCitys: ["北京", "上海", "广州", "深圳"]
                },
                methods: {
                    queryWeather() {
                        this.forecastList = []
                        axios
                        .get(`http://wthrcdn.etouch.cn/weather_mini?city=${this.city}`)
                        .then(res => {
                            console.log(res);
                            this.forecastList = res.data.data.forecast;
                        })
                        .catch(err => {
                            console.log(err);
                        })
                        .finally(() => {});
                    }
                }
            })
        </script>
    </body>
</html>